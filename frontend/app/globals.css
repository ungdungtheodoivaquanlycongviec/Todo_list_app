@import "tailwindcss";

/* Animation for update notification */
@keyframes slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in {
  animation: slide-in 0.3s ease-out;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  color-scheme: light only;
}

/* Explicit light mode - ensures app theme is independent of system theme */
.light {
  --background: #ffffff;
  --foreground: #171717;
  color-scheme: light only;
}

/* Force light mode to override any system dark preferences */
html.light,
html.light body {
  color-scheme: light only;
  background-color: #ffffff;
  color: #171717;
}

/* Light mode explicit overrides - ensure elements stay light when system is dark */
.light .bg-white {
  background-color: #ffffff !important;
}

.light .bg-gray-50 {
  background-color: #f9fafb !important;
}

.light .bg-gray-100 {
  background-color: #f3f4f6 !important;
}

.light .bg-gray-200 {
  background-color: #e5e7eb !important;
}

.light .text-gray-900 {
  color: #111827 !important;
}

.light .text-gray-800 {
  color: #1f2937 !important;
}

.light .text-gray-700 {
  color: #374151 !important;
}

.light .text-gray-600 {
  color: #4b5563 !important;
}

.light .text-gray-500 {
  color: #6b7280 !important;
}

.light .border-gray-200 {
  border-color: #e5e7eb !important;
}

.light .border-gray-300 {
  border-color: #d1d5db !important;
}

/* Light mode input fields */
.light input,
.light select,
.light textarea {
  background-color: #ffffff !important;
  color: #111827 !important;
  border-color: #d1d5db !important;
}

.light input::placeholder {
  color: #9ca3af !important;
}

/* Light mode sidebar gradient */
.light .from-gray-50 {
  --tw-gradient-from: #f9fafb !important;
}

.light .to-gray-100 {
  --tw-gradient-to: #f3f4f6 !important;
}

/* Light mode gray backgrounds (used in dropdowns, menus) */
.light .bg-gray-300 {
  background-color: #d1d5db !important;
}

.light .bg-gray-600 {
  background-color: #4b5563 !important;
}

.light .bg-gray-700 {
  background-color: #374151 !important;
}

.light .bg-gray-800 {
  background-color: #1f2937 !important;
}

/* Light mode hover states - CRITICAL for fixing hover going dark */
.light .hover\:bg-gray-50:hover {
  background-color: #f9fafb !important;
}

.light .hover\:bg-gray-100:hover {
  background-color: #f3f4f6 !important;
}

.light .hover\:bg-gray-200:hover {
  background-color: #e5e7eb !important;
}

.light .hover\:bg-gray-700:hover {
  background-color: #374151 !important;
}

/* Light mode blue selection states */
.light .bg-blue-50 {
  background-color: #eff6ff !important;
}

.light .bg-blue-100 {
  background-color: #dbeafe !important;
}

.light .border-blue-200 {
  border-color: #bfdbfe !important;
}

.light .text-blue-700 {
  color: #1d4ed8 !important;
}

/* Light mode for elements in menus/dropdowns that use dark: prefix */
.light .dark\:bg-gray-800 {
  background-color: #ffffff !important;
}

.light .dark\:bg-gray-700 {
  background-color: #ffffff !important;
}

.light .dark\:bg-gray-600 {
  background-color: #f9fafb !important;
}

.light .dark\:hover\:bg-gray-700:hover {
  background-color: #f3f4f6 !important;
}

.light .dark\:hover\:bg-gray-600:hover {
  background-color: #f3f4f6 !important;
}

.light .dark\:text-gray-100 {
  color: #111827 !important;
}

.light .dark\:text-gray-200 {
  color: #1f2937 !important;
}

.light .dark\:text-gray-300 {
  color: #374151 !important;
}

.light .dark\:text-gray-400 {
  color: #6b7280 !important;
}

.light .dark\:border-gray-700 {
  border-color: #e5e7eb !important;
}

.light .dark\:border-gray-600 {
  border-color: #d1d5db !important;
}

/* Light mode for hex color classes used in dark mode */
.light .dark\:bg-\[\#1F1F1F\] {
  background-color: #ffffff !important;
}

.light .dark\:bg-\[\#2E2E2E\] {
  background-color: #f9fafb !important;
}

.light .dark\:bg-\[\#3E3E3E\] {
  background-color: #f3f4f6 !important;
}

.light .dark\:hover\:bg-\[\#2E2E2E\]:hover {
  background-color: #f3f4f6 !important;
}

.light .dark\:hover\:bg-\[\#3E3E3E\]:hover {
  background-color: #e5e7eb !important;
}

/* Light mode blue selection in theme options */
.light .dark\:bg-blue-900 {
  background-color: #dbeafe !important;
}

.light .dark\:text-blue-300 {
  color: #1d4ed8 !important;
}

/* Light mode overrides for dark:bg-gray-900 used in chat and other views */
.light .dark\:bg-gray-900 {
  background-color: #ffffff !important;
}

.light .dark\:bg-gray-900\/40 {
  background-color: rgba(249, 250, 251, 0.6) !important;
}

.light .dark\:bg-gray-900\/30 {
  background-color: rgba(249, 250, 251, 0.5) !important;
}

/* Light mode overrides for dark:bg-blue-900/* used in selected states */
.light .dark\:bg-blue-900\/30 {
  background-color: rgba(219, 234, 254, 0.5) !important;
}

.light .dark\:bg-blue-900\/20 {
  background-color: rgba(219, 234, 254, 0.4) !important;
}

/* Light mode hover states for dark:hover:bg-gray-800 */
.light .dark\:hover\:bg-gray-800:hover {
  background-color: #f3f4f6 !important;
}

.light .dark\:hover\:bg-gray-800\/60:hover {
  background-color: rgba(243, 244, 246, 0.8) !important;
}

/* Light mode for text colors in chat and other views */
.light .dark\:text-blue-200 {
  color: #1e40af !important;
}

.light .dark\:text-gray-100 {
  color: #111827 !important;
}

.light .dark\:text-gray-200 {
  color: #1f2937 !important;
}

/* Light mode for divide colors */
.light .dark\:divide-gray-800 > * + * {
  border-color: #f3f4f6 !important;
}

/* Light mode for border colors in chat */
.light .dark\:border-gray-800 {
  border-color: #e5e7eb !important;
}

.light .dark\:border-gray-900 {
  border-color: #f9fafb !important;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Dark mode styles */
.dark {
  --background: #1A1A1A;     /* Main layout màu #1A1A1A */
  --foreground: #f1f5f9;     /* Chữ sáng dễ đọc */
  color-scheme: dark;
}

/* Sidebar và Tools - MÀU #1F1F1F */
.dark .bg-\[\#0F1D40\] {
  background-color: #1F1F1F !important; /* Sidebar màu #1F1F1F */
}

.dark .bg-white {
  background-color: #1F1F1F !important; /* Tools sidebar màu #1F1F1F */
}

/* Custom hex color overrides */
.dark .bg-\[\#1F1F1F\] {
  background-color: #1F1F1F !important; /* Sidebar và modal backgrounds */
}

.dark .bg-\[\#2E2E2E\] {
  background-color: #2E2E2E !important; /* Input fields và hover states */
}

.dark .bg-\[\#3E3E3E\] {
  background-color: #3E3E3E !important; /* Darker hover states */
}

.dark .bg-\[\#1A1A1A\] {
  background-color: #1A1A1A !important; /* Main layout background */
}

/* Main content background */
.dark .bg-gray-100 {
  background-color: #1A1A1A !important; /* Main layout màu #1A1A1A */
}

.dark .bg-gray-50 {
  background-color: #1A1A1A !important; /* Main layout màu #1A1A1A */
}

/* Hover effects - MÀU #2E2E2E */
.dark .hover\:bg-gray-50:hover,
.dark .hover\:bg-gray-100:hover,
.dark .hover\:bg-\[\#243152\]:hover,
.dark .hover\:bg-\[\#1a2847\]:hover {
  background-color: #2E2E2E !important;
}

/* Custom hex color hover states */
.dark .hover\:bg-\[\#2E2E2E\]:hover {
  background-color: #2E2E2E !important;
}

.dark .hover\:bg-\[\#3E3E3E\]:hover {
  background-color: #3E3E3E !important;
}

/* Các hover states cụ thể */
.dark .bg-\[\#1a2847\]:hover {
  background-color: #2E2E2E !important;
}

.dark .hover\:bg-gray-700:hover {
  background-color: #2E2E2E !important;
}

/* Text colors trong dark mode */
.dark .text-\[\#FFFFE6\] {
  color: #FFFFFF !important; /* Chữ trắng trên sidebar */
}

.dark .text-gray-900 {
  color: #FFFFFF !important; /* Chữ trắng */
}

.dark .text-gray-800 {
  color: #E5E5E5 !important; /* Chữ trắng nhẹ */
}

.dark .text-gray-700 {
  color: #D4D4D4 !important; /* Chữ xám sáng */
}

.dark .text-gray-600 {
  color: #A3A3A3 !important; /* Chữ xám */
}

.dark .text-gray-500 {
  color: #737373 !important; /* Chữ xám đậm */
}

.dark .text-gray-400 {
  color: #525252 !important; /* Chữ xám rất đậm */
}

/* Border colors */
.dark .border-gray-200 {
  border-color: #404040 !important; /* Border xám đậm */
}

.dark .border-gray-300 {
  border-color: #525252 !important; /* Border xám */
}

.dark .border-\[\#2D4071\] {
  border-color: #404040 !important; /* Border sidebar */
}

/* Custom hex border colors */
.dark .border-gray-600 {
  border-color: #525252 !important; /* Input borders */
}

.dark .border-gray-700 {
  border-color: #404040 !important; /* Modal borders */
}

/* Input fields */
.dark input,
.dark select,
.dark textarea {
  background-color: #2E2E2E !important;
  color: #FFFFFF !important;
  border-color: #404040 !important;
}

.dark input::placeholder {
  color: #737373 !important;
}

/* Table styles */
.dark table {
  background-color: #1A1A1A !important;
}

.dark thead {
  background-color: #2E2E2E !important;
}

.dark th {
  color: #FFFFFF !important;
}

.dark td {
  color: #D4D4D4 !important;
  border-color: #404040 !important;
}

/* Button styles */
.dark .bg-blue-500 {
  background-color: #2563eb !important; /* blue-600 */
}

.dark .bg-blue-600:hover {
  background-color: #1d4ed8 !important; /* blue-700 */
}

/* Calendar events */
.dark .bg-red-100 {
  background-color: #7f1d1d !important; /* red-900 */
  color: #fecaca !important; /* red-200 */
}

.dark .bg-blue-100 {
  background-color: #1e3a8a !important; /* blue-900 */
  color: #bfdbfe !important; /* blue-200 */
}

/* User menu */
.dark .bg-gray-800 {
  background-color: #1F1F1F !important;
}

.dark .border-gray-700 {
  border-color: #404040 !important;
}

/* Additional dark theme overrides */
.dark .bg-gray-700 {
  background-color: #2E2E2E !important;
}

.dark .bg-gray-600 {
  background-color: #3E3E3E !important;
}

.dark .bg-gray-900 {
  background-color: #1A1A1A !important;
}

/* Text color overrides for better contrast */
.dark .text-white {
  color: #FFFFFF !important;
}

.dark .text-gray-200 {
  color: #E5E5E5 !important;
}

.dark .text-gray-300 {
  color: #D4D4D4 !important;
}

/* Task priority colors */
.dark .text-red-600 { color: #f87171 !important; } /* red-400 */
.dark .bg-red-50 { background-color: #7f1d1d !important; } /* red-900 */

.dark .text-orange-600 { color: #fb923c !important; } /* orange-400 */
.dark .bg-orange-50 { background-color: #9a3412 !important; } /* orange-900 */

.dark .text-blue-600 { color: #60a5fa !important; } /* blue-400 */
.dark .bg-blue-50 { background-color: #1e3a8a !important; } /* blue-900 */

/* Task type colors */
.dark .bg-yellow-100 { background-color: #713f12 !important; } /* yellow-900 */
.dark .text-yellow-800 { color: #fde047 !important; } /* yellow-300 */

.dark .bg-green-100 { background-color: #14532d !important; } /* green-900 */
.dark .text-green-800 { color: #86efac !important; } /* green-300 */

.dark .bg-blue-100 { background-color: #1e3a8a !important; } /* blue-900 */
.dark .text-blue-800 { color: #93c5fd !important; } /* blue-300 */

/* Loading spinner */
.dark .border-blue-500 {
  border-color: #3b82f6 !important; /* blue-500 */
}

/* Search input trong sidebar */
.dark .bg-\[\#1a2847\] {
  background-color: #2E2E2E !important;
}

.dark .placeholder-\[\#839399\]::placeholder {
  color: #737373 !important;
}

/* Active states */
.dark .bg-blue-50 {
  background-color: #1e3a8a !important; /* blue-900 */
}

.dark .border-blue-500 {
  border-color: #3b82f6 !important; /* blue-500 */
}

.dark .text-blue-500 {
  color: #60a5fa !important; /* blue-400 */
}

/* Notification bell */
.dark .hover\:bg-gray-100:hover {
  background-color: #2E2E2E !important;
}

/* Gradient backgrounds */
.dark .bg-gradient-to-b {
  background: linear-gradient(to bottom, #1F1F1F, #1A1A1A) !important;
}

.dark .bg-gradient-to-r {
  background: linear-gradient(to right, #2E2E2E, #3E3E3E) !important;
}

/* Blue gradient backgrounds */
.dark .bg-gradient-to-r.from-blue-600.to-blue-700 {
  background: linear-gradient(to right, #2563eb, #1d4ed8) !important;
}

.dark .bg-gradient-to-br.from-blue-500.to-blue-600 {
  background: linear-gradient(to bottom right, #3b82f6, #2563eb) !important;
}

/* Active/selected states */
.dark .bg-blue-50 {
  background-color: #1e3a8a !important; /* blue-900 */
}

.dark .border-blue-200 {
  border-color: #1e40af !important; /* blue-800 */
}

.dark .border-blue-800 {
  border-color: #1e40af !important; /* blue-800 */
}

/*Tat tam di vi d doc duoc gi ca
/* @media (prefers-color-scheme: dark) {
  :root {
    --background: #1A1A1A;
    --foreground: #f1f5f9;
  }
} */

/* Ensure proper dark theme application */
html.dark {
  background-color: #1A1A1A !important;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
  margin: 0;
}

/* Chat scrollbar theming */
.chat-scroll {
  scrollbar-width: thin;
  scrollbar-color: #9ca3af transparent; /* gray-400 */
}

.chat-scroll::-webkit-scrollbar {
  width: 8px;
}

.chat-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.chat-scroll::-webkit-scrollbar-thumb {
  background-color: #9ca3af; /* gray-400 */
  border-radius: 9999px;
}

.dark .chat-scroll {
  scrollbar-color: #4b5563 transparent; /* gray-600 */
}

.dark .chat-scroll::-webkit-scrollbar-thumb {
  background-color: #4b5563; /* gray-600 */
}

/* Minimal scrollbar for TaskDetailModal and other areas */
.scrollbar-minimal {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
}

.scrollbar-minimal:hover {
  scrollbar-color: #d1d5db transparent; /* gray-300 on hover */
}

.scrollbar-minimal::-webkit-scrollbar {
  width: 6px;
}

.scrollbar-minimal::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-minimal::-webkit-scrollbar-thumb {
  background-color: transparent;
  border-radius: 9999px;
}

.scrollbar-minimal:hover::-webkit-scrollbar-thumb {
  background-color: #d1d5db; /* gray-300 */
}

.dark .scrollbar-minimal:hover {
  scrollbar-color: #525252 transparent; /* gray-600 on hover */
}

.dark .scrollbar-minimal:hover::-webkit-scrollbar-thumb {
  background-color: #525252; /* gray-600 */
}

.dark body {
  background-color: #1A1A1A !important;
  color: #FFFFFF !important;
}

/* Responsive utilities */
@layer utilities {
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Custom scrollbar for mobile */
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  .scrollbar-thin::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.5);
    border-radius: 2px;
  }

  /* Safe area padding for mobile */
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
}

/* Mobile-first responsive fixes */
@media (max-width: 640px) {
  /* Smaller text on mobile */
  .text-responsive {
    font-size: 0.875rem;
  }

  /* Reduce padding on mobile */
  .p-responsive {
    padding: 0.75rem;
  }

  /* Full width buttons on mobile */
  .btn-responsive {
    width: 100%;
  }

  /* Stack flex items on mobile */
  .flex-responsive {
    flex-direction: column;
  }
}

/* Tablet adjustments */
@media (min-width: 641px) and (max-width: 1024px) {
  .text-responsive {
    font-size: 0.9375rem;
  }
}

/* Prevent horizontal scroll on body - ONLY hide horizontal scroll */
html {
  overflow-x: hidden;
  overflow-y: visible;
}

body {
  overflow-x: hidden;
  overflow-y: visible;
  max-width: 100vw;
  height: 100%;
}

/* Fix for iOS rubber-banding */
@supports (-webkit-touch-callout: none) {
  .h-screen {
    height: -webkit-fill-available;
  }
}

/* Ensure scroll works properly in flex containers */
.min-h-0 {
  min-height: 0 !important;
}

.h-full {
  height: 100% !important;
}

/* Global scrollbar styling */
* {
  scrollbar-width: thin;
  scrollbar-color: #d1d5db transparent;
}

*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background-color: #d1d5db;
  border-radius: 9999px;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: #9ca3af;
}

/* Dark mode scrollbar */
.dark * {
  scrollbar-color: #4b5563 transparent;
}

.dark *::-webkit-scrollbar-thumb {
  background-color: #4b5563;
}

.dark *::-webkit-scrollbar-thumb:hover {
  background-color: #6b7280;
}

/* Force overflow-y-auto to show scrollbar */
.overflow-y-auto {
  overflow-y: auto !important;
}

/* Chat scroll specific styling */
.chat-scroll {
  scrollbar-width: thin;
  scrollbar-color: #9ca3af transparent;
  overflow-y: auto !important;
}

.chat-scroll::-webkit-scrollbar {
  width: 8px;
}

.chat-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.chat-scroll::-webkit-scrollbar-thumb {
  background-color: #9ca3af;
  border-radius: 9999px;
}

.dark .chat-scroll {
  scrollbar-color: #4b5563 transparent;
}

.dark .chat-scroll::-webkit-scrollbar-thumb {
  background-color: #4b5563;
}

/* ========== SCROLL FIX FOR ALL VIEWS ========== */

/* Reset scroll behavior */
html, body {
  overflow-x: hidden;
  height: 100%;
}

body {
  overflow-y: auto;
}

/* Main content container scroll */
.h-full {
  height: 100%;
}

.min-h-0 {
  min-height: 0;
}

/* View containers - ensure they can scroll */
.view-scroll-container {
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
}

/* Force overflow-y-auto elements to scroll properly */
[class*="overflow-y-auto"],
[class*="overflow-auto"] {
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Global scrollbar styling - visible by default */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a1a1a1;
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-track {
  background: #2d2d2d;
}

.dark ::-webkit-scrollbar-thumb {
  background: #555;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #666;
}

/* Chat scroll */
.chat-scroll {
  overflow-y: auto !important;
  scrollbar-width: thin;
}

.chat-scroll::-webkit-scrollbar {
  width: 6px;
}

.chat-scroll::-webkit-scrollbar-thumb {
  background: #9ca3af;
  border-radius: 9999px;
}

.dark .chat-scroll::-webkit-scrollbar-thumb {
  background: #4b5563;
}

/* Fix for iOS rubber-banding */
@supports (-webkit-touch-callout: none) {
  .h-screen {
    height: -webkit-fill-available;
  }
}